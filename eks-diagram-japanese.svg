<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <!-- Title -->
  <text x="600" y="40" font-family="sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#C41E3A">パブリックおよびプライベートサブネットにおけるEKSクラスターとEKSノードグループ</text>
  
  <!-- Main AWS Cloud box -->
  <rect x="150" y="70" width="950" height="680" fill="#f9f9f9" stroke="#232F3E" stroke-width="2"/>
  <text x="290" y="95" font-family="sans-serif" font-size="20" font-weight="bold" fill="#232F3E">AWSクラウド</text>
  <rect x="160" y="75" width="35" height="35" fill="#232F3E"/>
  <text x="177" y="100" font-family="sans-serif" font-size="24" font-weight="bold" fill="white">aws</text>
  
  <!-- VPC (Amazon EKS) box -->
  <rect x="170" y="110" width="340" height="420" fill="#f5f5f5" stroke="#1d8102" stroke-width="2"/>
  <text x="300" y="140" font-family="sans-serif" font-size="18" fill="#1d8102">VPC (Amazon EKS)</text>
  <rect x="180" y="115" width="25" height="25" fill="#1d8102"/>
  <text x="192" y="132" font-family="sans-serif" font-size="14" fill="white">VPC</text>
  
  <!-- Availability Zones -->
  <rect x="610" y="70" width="230" height="680" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="725" y="100" font-family="sans-serif" font-size="18" fill="#666" text-anchor="middle">アベイラビリティーゾーン 1</text>
  
  <rect x="860" y="70" width="230" height="680" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="975" y="100" font-family="sans-serif" font-size="18" fill="#666" text-anchor="middle">アベイラビリティーゾーン 2</text>
  
  <!-- VPC (our AWS Account) -->
  <rect x="600" y="110" width="240" height="50" fill="#f5f5f5" stroke="#1d8102" stroke-width="2"/>
  <text x="720" y="140" font-family="sans-serif" font-size="16" fill="#1d8102" text-anchor="middle">VPC (当社のAWSアカウント)</text>
  <rect x="605" y="115" width="25" height="25" fill="#1d8102"/>
  <text x="617" y="132" font-family="sans-serif" font-size="14" fill="white">VPC</text>
  
  <!-- Public Subnets -->
  <rect x="635" y="150" width="180" height="40" fill="#e6ffe6" stroke="#1d8102" stroke-width="2"/>
  <text x="725" y="175" font-family="sans-serif" font-size="14" fill="#1d8102" text-anchor="middle">パブリックサブネット</text>
  <rect x="640" y="155" width="20" height="20" fill="#1d8102"/>
  <text x="650" y="170" font-family="sans-serif" font-size="12" fill="white">P</text>
  
  <rect x="885" y="150" width="180" height="40" fill="#e6ffe6" stroke="#1d8102" stroke-width="2"/>
  <text x="975" y="175" font-family="sans-serif" font-size="14" fill="#1d8102" text-anchor="middle">パブリックサブネット</text>
  <rect x="890" y="155" width="20" height="20" fill="#1d8102"/>
  <text x="900" y="170" font-family="sans-serif" font-size="12" fill="white">P</text>
  
  <!-- Internet and NAT Gateways -->
  <circle cx="980" y="115" r="25" fill="#f5f5f5" stroke="#4b5864" stroke-width="2"/>
  <text x="980" y="160" font-family="sans-serif" font-size="12" fill="#4b5864" text-anchor="middle">インターネットゲートウェイ</text>
  
  <circle cx="740" y="195" r="25" fill="#f5f5f5" stroke="#4b5864" stroke-width="2"/>
  <text x="740" y="240" font-family="sans-serif" font-size="12" fill="#4b5864" text-anchor="middle">NATゲートウェイ</text>
  <text x="610" y="215" font-family="sans-serif" font-size="12" fill="#4b5864">NATGW Elastic IP</text>
  
  <!-- EKS Control Plane -->
  <rect x="210" y="280" width="60" height="60" fill="#F37C20" stroke="#000" stroke-width="2"/>
  <text x="240" y="330" font-family="sans-serif" font-size="16" fill="#000" text-anchor="middle">EKS</text>
  <text x="240" y="350" font-family="sans-serif" font-size="16" fill="#000" text-anchor="middle">コントロール</text>
  <text x="240" y="370" font-family="sans-serif" font-size="16" fill="#000" text-anchor="middle">プレーン</text>
  
  <!-- kubectl Client -->
  <rect x="50" y="430" width="60" height="40" fill="#fff" stroke="#663399" stroke-width="2"/>
  <text x="80" y="510" font-family="sans-serif" font-size="14" fill="#663399" text-anchor="middle">kubectl</text>
  <text x="80" y="530" font-family="sans-serif" font-size="14" fill="#663399" text-anchor="middle">クライアント</text>
  <text x="180" y="445" font-family="sans-serif" font-size="12" fill="#663399">インターネット経由で</text>
  <text x="180" y="460" font-family="sans-serif" font-size="12" fill="#663399">EKS APIサーバー</text>
  <text x="180" y="475" font-family="sans-serif" font-size="12" fill="#663399">エンドポイントにアクセスして</text>
  <text x="180" y="490" font-family="sans-serif" font-size="12" fill="#663399">kubectlコマンドを実行</text>
  
  <!-- Access descriptions -->
  <text x="615" y="173" font-family="sans-serif" font-size="16" font-weight="bold" fill="#000">プライベートノードグループ – NATゲートウェイ経由でEKS APIサーバーエンドポイントにアクセス</text>
  <text x="500" y="475" font-family="sans-serif" font-size="16" font-weight="bold" fill="#000">パブリックノードグループ – EKS APIサーバーエンドポイントにアクセス</text>
  
  <!-- Amazon ECR -->
  <rect x="330" y="540" width="60" height="60" fill="#F37C20" stroke="#000" stroke-width="2"/>
  <text x="360" y="620" font-family="sans-serif" font-size="14" fill="#000" text-anchor="middle">Amazon Elastic Container</text>
  <text x="360" y="640" font-family="sans-serif" font-size="14" fill="#000" text-anchor="middle">Registry (Amazon ECR)</text>
  
  <!-- IAM -->
  <rect x="230" y="680" width="60" height="60" fill="#C41E3A" stroke="#000" stroke-width="2"/>
  <text x="260" y="755" font-family="sans-serif" font-size="14" fill="#000" text-anchor="middle">AWS Identity and Access</text>
  <text x="260" y="775" font-family="sans-serif" font-size="14" fill="#000" text-anchor="middle">Management (IAM)</text>
  
  <circle cx="370" y="690" r="30" fill="#fff" stroke="#C41E3A" stroke-width="2"/>
  <text x="370" y="735" font-family="sans-serif" font-size="12" fill="#C41E3A" text-anchor="middle">EKSクラスター用</text>
  <text x="370" y="750" font-family="sans-serif" font-size="12" fill="#C41E3A" text-anchor="middle">IAMロール</text>
  
  <circle cx="470" y="690" r="30" fill="#fff" stroke="#C41E3A" stroke-width="2"/>
  <text x="470" y="735" font-family="sans-serif" font-size="12" fill="#C41E3A" text-anchor="middle">EKSノードグループ用</text>
  <text x="470" y="750" font-family="sans-serif" font-size="12" fill="#C41E3A" text-anchor="middle">IAMロール</text>
  
  <!-- Bastion EC2 Instance -->
  <rect x="885" y="185" width="180" height="80" fill="#e6ffe6" stroke="#C41E3A" stroke-width="2"/>
  <text x="975" y="205" font-family="sans-serif" font-size="14" fill="#C41E3A" text-anchor="middle">バスチョンセキュリティグループ</text>
  <text x="975" y="225" font-family="sans-serif" font-size="14" fill="#C41E3A" text-anchor="middle">送信先: 0.0.0.0/0</text>
  <rect x="970" y="240" width="15" height="15" fill="#C41E3A"/>
  <text x="975" y="265" font-family="sans-serif" font-size="14" fill="#000" text-anchor="middle">バスチョンEC2インスタンス</text>
  
  <!-- Admin SSH -->
  <text x="1060" y="140" font-family="sans-serif" font-size="14" fill="#663399">管理者</text>
  <text x="1060" y="160" font-family="sans-serif" font-size="14" fill="#663399">SSH 22</text>
  <text x="1060" y="190" font-family="sans-serif" font-size="14" fill="#663399">Elastic IP</text>
  
  <!-- EKS Elastic Network Interfaces -->
  <rect x="635" y="300" width="430" height="100" fill="#fff" stroke="#1673b1" stroke-width="2" rx="10" ry="10"/>
  <text x="850" y="320" font-family="sans-serif" font-size="16" fill="#C41E3A" text-anchor="middle">EKSクラスター</text>
  <text x="850" y="340" font-family="sans-serif" font-size="16" fill="#C41E3A" text-anchor="middle">セキュリティグループ</text>
  <text x="850" y="400" font-family="sans-serif" font-size="16" fill="#000" text-anchor="middle">EKS Elasticネットワークインターフェイス</text>
  
  <rect x="675" y="350" width="100" height="30" fill="#f5f5f5" stroke="#4b5864" stroke-width="2"/>
  <text x="725" y="370" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">EKS Elastic</text>
  <text x="725" y="385" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">ネットワークインターフェイス</text>
  <circle cx="650" y="365" r="15" fill="#fff" stroke="#4b5864" stroke-width="2"/>
  
  <rect x="925" y="350" width="100" height="30" fill="#f5f5f5" stroke="#4b5864" stroke-width="2"/>
  <text x="975" y="370" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">EKS Elastic</text>
  <text x="975" y="385" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">ネットワークインターフェイス</text>
  <circle cx="900" y="365" r="15" fill="#fff" stroke="#4b5864" stroke-width="2"/>
  
  <!-- EKS Node Group in Public Subnets -->
  <rect x="635" y="430" width="430" height="100" fill="#fff" stroke="#000" stroke-width="2"/>
  <text x="850" y="450" font-family="sans-serif" font-size="14" fill="#C41E3A" text-anchor="middle">パブリックNGセキュリティグループ – ポート22</text>
  <text x="850" y="470" font-family="sans-serif" font-size="14" fill="#C41E3A" text-anchor="middle">送信先: 0.0.0.0/0</text>
  <text x="850" y="540" font-family="sans-serif" font-size="16" fill="#000" text-anchor="middle">パブリックサブネットのEKSノードグループ</text>
  
  <rect x="700" y="480" width="40" height="40" fill="#f5f5f5" stroke="#C41E3A" stroke-width="2"/>
  <text x="720" y="510" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">EKS</text>
  <text x="720" y="525" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">ワーカーノード</text>
  
  <rect x="960" y="480" width="40" height="40" fill="#f5f5f5" stroke="#C41E3A" stroke-width="2"/>
  <text x="980" y="510" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">EKS</text>
  <text x="980" y="525" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">ワーカーノード</text>
  
  <!-- Private subnets -->
  <rect x="635" y="580" width="180" height="40" fill="#e6f7ff" stroke="#0073bb" stroke-width="2"/>
  <text x="725" y="605" font-family="sans-serif" font-size="14" fill="#0073bb" text-anchor="middle">プライベートサブネット</text>
  <rect x="640" y="585" width="20" height="20" fill="#0073bb"/>
  <text x="650" y="600" font-family="sans-serif" font-size="12" fill="white">P</text>
  
  <rect x="885" y="580" width="180" height="40" fill="#e6f7ff" stroke="#0073bb" stroke-width="2"/>
  <text x="975" y="605" font-family="sans-serif" font-size="14" fill="#0073bb" text-anchor="middle">プライベートサブネット</text>
  <rect x="890" y="585" width="20" height="20" fill="#0073bb"/>
  <text x="900" y="600" font-family="sans-serif" font-size="12" fill="white">P</text>
  
  <!-- EKS Node Group in Private Subnets -->
  <rect x="635" y="630" width="430" height="100" fill="#fff" stroke="#000" stroke-width="2"/>
  <text x="850" y="650" font-family="sans-serif" font-size="14" fill="#C41E3A" text-anchor="middle">プライベートNGセキュリティグループ – ポート22</text>
  <text x="850" y="670" font-family="sans-serif" font-size="14" fill="#C41E3A" text-anchor="middle">送信先: 0.0.0.0/0</text>
  <text x="850" y="720" font-family="sans-serif" font-size="16" fill="#000" text-anchor="middle">プライベートサブネットのEKSノードグループ</text>
  
  <rect x="700" y="680" width="40" height="40" fill="#e6f7ff" stroke="#C41E3A" stroke-width="2"/>
  <text x="720" y="695" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">EKS</text>
  <text x="720" y="710" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">ワーカーノード</text>
  
  <rect x="960" y="680" width="40" height="40" fill="#e6f7ff" stroke="#C41E3A" stroke-width="2"/>
  <text x="980" y="695" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">EKS</text>
  <text x="980" y="710" font-family="sans-serif" font-size="12" fill="#000" text-anchor="middle">ワーカーノード</text>
  
  <!-- Connection lines -->
  <path d="M 80 430 L 180 370 L 210 310" fill="none" stroke="#663399" stroke-width="2"/>
  <path d="M 270 310 L 660 310" fill="none" stroke="#1673b1" stroke-width="2"/>
  <path d="M 210 310 L 210 195 L 740 195" fill="none" stroke="#000" stroke-width="2"/>
  <path d="M 740 220 L 740 300" fill="none" stroke="#000" stroke-width="2"/>
  <path d="M 210 340 L 330 540" fill="none" stroke="#000" stroke-width="2"/>
  <path d="M 980 140 L 980 185" fill="none" stroke="#663399" stroke-width="2"/>
  <path d="M 1060 215 L 1000 215" fill="none" stroke="#663399" stroke-width="2"/>
  
  <!-- Footer -->
  <text x="120" y="800" font-family="sans-serif" font-size="16" fill="#C41E3A">© Kalyan Reddy Daida</text>
  <text x="1080" y="800" font-family="sans-serif" font-size="16" fill="#C41E3A" text-anchor="end">StackSimplify</text>
</svg>
